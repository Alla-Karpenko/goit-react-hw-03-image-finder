{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Loader/Loader.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/ Searchbar.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","imagesApi/imagesApi.jsx","App.jsx","index.jsx","components/Searchbar/Searchbar.module.css"],"names":["module","exports","App","className","styles","Loader","type","color","height","width","Component","ImageGalleryItem","webformatURL","largeImageURL","openImage","ImageGalleryItemImage","src","url","alt","onClick","ImageGallery","hits","map","id","Searchbar","state","searchQuery","handelChange","e","setState","currentTarget","value","handelSubmit","preventDefault","trim","alert","props","onSubmit","SearchForm","this","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Button","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","Overlay","img","currentPage","perPage","axios","get","then","response","data","isLoading","largeImage","showModal","toggleModal","onChangeQuery","query","fetchHits","options","imagesApi","prevState","catch","error","console","log","finally","setLargeImage","imgUrl","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9a7af483.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","import { Component } from 'react';\nimport Loader from \"react-loader-spinner\";\nimport styles from './Loader.module.css';\n\nexport default class App extends Component {\n  \n  render() {\n    return (\n        <div className={styles.Loader}>\n            <Loader\n                type=\"Hearts\"\n                color=\"red\"\n                height={200}\n                width={150}\n            />\n       </div>\n    );\n  }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './ImageGalleryItem.module.css';\n\n\nconst ImageGalleryItem = ({ webformatURL ,largeImageURL, openImage }) => {\n\n    const handleOpenImage = () => {openImage(largeImageURL);};\n\n    return (\n        <li className={styles.ImageGalleryItem}>\n           <img  className={styles.ImageGalleryItemImage} \n           src={webformatURL} \n           url={largeImageURL} \n           alt=\"\"  \n           onClick={handleOpenImage}/>\n        </li>\n    );\n};\n\nImageGalleryItem.propTypes = {\n    largeImageURL: PropTypes.string.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    onOpenImage: PropTypes.func,\n};\n\nexport default ImageGalleryItem;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\n\nconst ImageGallery = ({ hits, openImage }) => {\n    return (\n        <ul className={styles.ImageGallery}>\n            {hits.map( ({ id, webformatURL, largeImageURL }) => (\n                <ImageGalleryItem \n                    key={id} \n                    webformatURL={webformatURL} \n                    largeImageURL={largeImageURL}\n                    openImage={openImage}\n                />\n            ))} \n        </ul>\n    );\n};\n\nImageGallery.propTypes = {\n    hits: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        webformatURL: PropTypes.string.isRequired,\n        largeImageURL: PropTypes.string.isRequired,\n      }),\n    ),\n  };\n\nexport default ImageGallery;","import React, {Component} from 'react';\nimport styles from './Searchbar.module.css'\n\nclass  Searchbar extends Component{\n  state = { searchQuery: '' };\n\n  handelChange = e => {\n    this.setState({ searchQuery: e.currentTarget.value });\n  }\n\n  handelSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchQuery.trim() === ''){\n      alert('Заполните форму поиска')\n    } else {\n    this.props.onSubmit(this.state.searchQuery)\n    this.setState({ searchQuery: ''})\n    }\n  }\n \n   render () {\n    return (\n      <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={this.handelSubmit}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n    \n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={this.handelChange}\n        />\n      </form>\n    </header>\n    );\n  }\n\n}\n\n\nexport default  Searchbar;","import React from 'react';\nimport styles from './Button.module.css';\n\nconst Button = ({ hits }) => {\n    return (\n        <div>\n            <button className={styles.Button} type=\"button\" onClick={hits}>Load more</button>\n        </div>\n    );   \n}\n\nexport default Button;\n\n\n\n","import React, {Component} from 'react';\nimport styles from './Modal.module.css'\n\nclass Modal extends Component {\n  \n    componentDidMount() {\n        window.addEventListener(\"keydown\", this.handleKeyDown );\n    };\n    componentWillUnmount() {\n        window.removeEventListener(\"keydown\", this.handleKeyDown );\n    };\n\n    handleKeyDown = (e) => {\n        if (e.code === \"Escape\") {\n          this.props.onClose();\n        }\n    };\n\n    handleBackdropClick = event => {\n        if (event.currentTarget === event.target) {\n            this.props.onClose();\n        }\n    };\n  \n   render() {\n    return (\n        <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n            <div className={styles.Modal}>\n                <img src={this.props.img} alt=\"\"/>\n            </div>\n        </div>\n        \n    );\n   }\n};\n\nexport default Modal;","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api'\nconst API_KEY = '20766432-b82ef19051876e0d497c4164f'\n\n\nconst fetchHits = ({ searchQuery= '', currentPage = 1, perPage = 12 }) => {\n    return  axios.get(\n    `${BASE_URL}/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n    ).then(response => response.data.hits)\n};\n\nexport default { fetchHits };","import { Component } from 'react';\nimport React from 'react'; \n\nimport Loader from './components/Loader'\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport  imagesApi  from './imagesApi/imagesApi';\n\nimport styles from './App.module.css'\n\n\nclass App extends Component {\n   \n    state = {\n        hits: [],\n        currentPage: 1,\n        isLoading: false,\n        searchQuery: '',\n        largeImage: '',\n        showModal: false,\n    };\n  \n    toggleModal = () => {\n        this.setState(({ showModal }) => ({\n            showModal: !showModal\n        }) )\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        \n        if(prevState.searchQuery !== this.state.searchQuery) {\n            this.fetchHits();\n        }\n        if (prevState.currentPage  !== this.state.currentPage ) {\n            window.scrollTo({\n                top: document.documentElement.scrollHeight,\n                behavior: 'smooth',\n            }); \n        }\n    }\n \n    onChangeQuery = query => {\n        if ( !query ) {\n            alert('Заполните форму поиска');\n        }\n        this.setState({ searchQuery: query, currentPage: 1, hits: [] });\n    }\n    \n    fetchHits = () => {\n        const { currentPage, searchQuery } = this.state;\n        \n        const options = { searchQuery, currentPage };\n\n        this.setState({ isLoading: true });\n\n        imagesApi.fetchHits(options).then(hits => \n            { this.setState( prevState => ({\n            hits: [...prevState.hits, ...hits],\n            currentPage: prevState.currentPage + 1,\n        }))\n        })\n        .catch((error) => console.log(error))\n        .finally(() => this.setState({ isLoading: false }));\n    };\n\n    setLargeImage = imgUrl => {\n        this.setState({ showModal: true, largeImage: imgUrl  });\n    };\n\n  \n\n    render() {\n        const { hits, isLoading, showModal,  largeImage } = this.state;\n\n        return (\n            <div className={styles.App}>\n                \n                <Searchbar  onSubmit={this.onChangeQuery} />\n                <ImageGallery hits={hits} openImage={this.setLargeImage} />\n\n                {isLoading && <Loader />}\n\n                {hits.length > 0 && !isLoading && (\n                    <Button    hits={this.fetchHits} />\n                )}\n\n               {showModal &&  <Modal  onClose={this.toggleModal}   img={largeImage}/>} \n            </div>\n        );\n    }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}